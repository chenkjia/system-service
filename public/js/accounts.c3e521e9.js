(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["accounts"],{bbce:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("DatatablesPage",{ref:"DatatablesPage",attrs:{resource:"accounts",fields:e.fields,columnList:e.columnList,filterList:e.filterList,createList:e.createList,updateList:e.updateList,createButtonList:e.createButtonList,toolbarList:e.toolbarList,operationList:e.operationList}},[a("el-dialog",{staticClass:"dataform-dialog",attrs:{title:"修改密码",visible:e.changeDialogVisible,"append-to-body":!0,width:"25%"},on:{"update:visible":function(t){e.changeDialogVisible=t}}},[a("Dataform",{ref:"changeForm",attrs:{slot:"footer",size:"small","label-position":"right","label-width":"100px",dataInit:e.changeData,formFields:e.changeFields,buttonList:e.changeButtonList},slot:"footer"})],1)],1)},o=[],n=a("0644"),i=a.n(n),l=(a("8e6e"),a("ac6a"),a("456d"),a("bd86"));function s(e,t){var a=Object.keys(e);return Object.getOwnPropertySymbols&&a.push.apply(a,Object.getOwnPropertySymbols(e)),t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(a,!0).forEach(function(t){Object(l["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var u,f,p={name:"accountsChangePassword",data:function(){var e=this;return{changeData:{},changeDialogVisible:!1,changeList:["password"],changeButtonList:[{label:"取 消",func:function(){e.changeDialogVisible=!1}},{label:"确 定",type:"primary",func:function(t){var a=i()(t);a.password=e.$md5(t.password),e.$update({url:"accounts/changePassword",params:{_id:e.changeFormId},data:a}).then(function(t){0===t.code&&(e.changeDialogVisible=!1,e.$refs.DatatablesPage.getList())})}}]}},computed:{changeFields:function(){var e=this;return this.changeList.map(function(t){var a=i()(e.fields[t]);return c({name:t},a,{form:c({},a.form,{},a.change)})})}},methods:{changeFormInit:function(e){this.changeFormId=e._id,this.changeData={},this.changeDialogVisible=!0}}},b=p,m=a("2877"),d=Object(m["a"])(b,u,f,!1,null,null,null),g=d.exports,h=["jobNumber","username","fullname","roles","photo","mobile","enabled","remark"],y={name:"accounts",mixins:[g],data:function(){var e=this;return{toolbarList:["create"],operationList:["update","delete",{name:"change",label:"修改密码",func:this.changeFormInit}],columnList:h,filterList:["jobNumber","username","fullname","roles","mobile","enabled"],createList:["jobNumber","username","password","fullname","roles","photo","mobile","enabled","remark"],updateList:h,createButtonList:[{label:"取 消",func:function(){e.$refs.DatatablesPage.createDialogVisible=!1}},{label:"确 定",type:"primary",func:function(t){var a=i()(t);a.password=e.$md5(t.password),e.$create({url:e.$refs.DatatablesPage.resource,data:a}).then(function(t){0===t.code&&(e.$refs.DatatablesPage.createDialogVisible=!1,e.$refs.DatatablesPage.getList())})}}],fields:{jobNumber:{label:"工号",form:{formtype:"input"},filter:{like:!0}},username:{label:"账号",form:{formtype:"input"},update:{formtype:"render"},render:{type:"text"},filter:{like:!0}},password:{label:"密码",form:{formtype:"input","show-password":!0}},fullname:{label:"姓名",form:{formtype:"input"},filter:{like:!0}},roles:{label:"角色",relation:"roles",form:{formtype:"select"},create:{multiple:!0},update:{multiple:!0},render:{type:"multiselect"}},mobile:{label:"联系电话",form:{formtype:"input"},filter:{like:!0}},enabled:{label:"是否启用",relation:"enableOrDisable",form:{formtype:"switch"},filter:{formtype:"select"},render:{type:"select"}},photo:{label:"照片",form:{formtype:"file"},render:{type:"file"}},remark:{label:"备注",form:{formtype:"input",type:"textarea",resize:"none",autosize:!0},filter:{formtype:"input"}}}}},methods:{handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)}}},L=y,w=Object(m["a"])(L,r,o,!1,null,null,null);t["default"]=w.exports}}]);
//# sourceMappingURL=accounts.c3e521e9.js.map